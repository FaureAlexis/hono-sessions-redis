var r=Object.defineProperty;var o=Object.getOwnPropertyDescriptor;var a=Object.getOwnPropertyNames;var f=Object.prototype.hasOwnProperty;var c=(n,t)=>{for(var i in t)r(n,i,{get:t[i],enumerable:!0})},S=(n,t,i,e)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of a(t))!f.call(n,s)&&s!==i&&r(n,s,{get:()=>t[s],enumerable:!(e=o(t,s))||e.enumerable});return n};var d=n=>S(r({},"__esModule",{value:!0}),n);var g={};c(g,{RedisStoreAdapter:()=>l});module.exports=d(g);var l=class{prefix;ttl;RedisClient;constructor(t){this.prefix=t.prefix==null?"session:":t.prefix,this.ttl=t.ttl||86400,this.RedisClient=t.client}async getSessionById(t){if(!t)return null;let i=(this.prefix+t).toString(),e=await this.RedisClient.get(i);return e?JSON.parse(e):null}async createSession(t,i){if(!t)return;let e=(this.prefix+t).toString(),s=this.ttl;await this.RedisClient.setex(e,s,JSON.stringify(i))}async deleteSession(t){let i=(this.prefix+t).toString();await this.RedisClient.del(i)}async persistSessionData(t,i){if(!t)return;let e=(this.prefix+t).toString(),s=this.ttl;await this.RedisClient.setex(e,s,JSON.stringify(i))}};0&&(module.exports={RedisStoreAdapter});
